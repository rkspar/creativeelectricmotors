(function(a){function b(a){var b=[],c=[],d=[],f=Object.is||function(a,b){return a===b?0!==a||1/a==1/b:a!=a&&b!=b},g=function(a){if(a!=a||0===a)for(var b=this.length;b--&&!f(this[b],a););else b=[].indexOf.call(this,a);return b},h=function(a,b){var c=0;return Object.create({},{next:{value:function(){if(c<a.items().length)switch(b){case"keys":return a.keys()[c++];case"values":return a.values()[c++];case"keys+values":return[].slice.call(a.items()[c++]);default:throw new TypeError("Invalid iterator type")}throw new Error("Stop Iteration")}},iterator:{value:function(){return this}},toString:{value:function(){return"[object Map Iterator]"}}})},i=function(a,e){var f=g.call(c,a);f>-1?(b[f][1]=e,d[f]=e):(b.push([a,e]),c.push(a),d.push(e))},j=function(a){if(2!==a.length)throw new TypeError("Invalid iterable passed to Map constructor");i(a[0],a[1])};if(Array.isArray(a))a.forEach(j);else if(void 0!==a)throw new TypeError("Invalid Map");return Object.create(e,{items:{value:function(){return[].slice.call(b)}},keys:{value:function(){return[].slice.call(c)}},values:{value:function(){return[].slice.call(d)}},has:{value:function(a){var b=g.call(c,a);return b>-1}},get:{value:function(a){var b=g.call(c,a);return b>-1?d[b]:void 0}},set:{value:i},size:{get:function(){return b.length}},clear:{value:function(){c.length=d.length=b.length=0}},delete:{value:function(a){var e=g.call(c,a);return e>-1&&(c.splice(e,1),d.splice(e,1),b.splice(e,1),!0)}},forEach:{value:function(a){function b(){try{return c.next()}catch(a){return}}if("function"!=typeof a)throw new TypeError("Invalid callback function given to forEach");for(var c=this.iterator(),d=b(),e=b();void 0!==d;)a.apply(arguments[1],[d[1],d[0],this]),d=e,e=b()}},iterator:{value:function(){return new h(this,"keys+values")}},toString:{value:function(){return"[Object Map]"}}})}var c="undefined"==a,d=c?this:global,a=c?{}:exports,e=b.prototype;b.prototype=e=b(),d.Map=a.Map=d.Map||b}).call(this,typeof exports),!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define("santaPlatformSuperApps",[],b):"object"==typeof exports?exports.santaPlatformSuperApps=b():a.santaPlatformSuperApps=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.emit=b.exportAPI=void 0;var d=c(1);b.exportAPI=d.exportAPI,b.emit=d.emit},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}Object.defineProperty(b,"__esModule",{value:!0}),b.emit=b.exportAPI=void 0;var e=c(2),f=d(e),g=c(3);b.exportAPI=function(a,b){var c=a.compId,d=a.api;(0,g.init)(b),f.api2.set(c,d)},b.emit=function(a,b){(0,g.sendMessage)(a,b)}},function(a,b,c){!function(b,c){a.exports=c()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}Object.defineProperty(b,"__esModule",{value:!0}),b.api2=b.api=void 0;var f=c(1),g=e(f),h=c(59),i=e(h),j=c(146),k=d(j);k.default.polyfill();var l={set:g.set,sendTo:g.sendTo,get:g.get,sendToWindow:g.sendToWindow};b.api=l,b.api2=i},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function f(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}Object.defineProperty(b,"__esModule",{value:!0}),b.get=b.sendTo=b.sendToWindow=b.set=void 0;var g=c(2),h=c(3),i=e(h),j=c(5),k=d(j),l=c(6),m=d(l),n=c(4),o=e(n),p=c(58),q=d(p),r={},s=function(a,b){try{return Promise.resolve(a.apply(void 0,f(b)))}catch(a){return Promise.reject("string"==typeof a?a:a.message)}},t=function(a,b){var c=b.targetName,d=b.appId,e=b.promiseId;return"worker"===a?function(a){return function(b){return self.postMessage({intent:a,promiseId:e,result:b})}}:function(a){return function(b){var f=c?i.getTargetFromName(d,c):i.getTarget(d);f&&f.postMessage({intent:a,promiseId:e,result:b},"*")}}},u=function(a,b){switch(b.data.intent){case m.default.INVOKE:if(b.data.args&&b.data.call){var c=r[b.data.appId][b.data.call];if(c)if(b.data.promiseId){var d=t(a,b.data);s(c,b.data.args).then(d(m.default.RPC_RESOLVE),d(m.default.RPC_REJECT))}else c.apply(void 0,f(b.data.args));else console.warn("bad message w/ data: "+JSON.stringify(b.data))}break;case m.default.API_DESCRIPTION:k.default.buildAPI(b.data,"frame")}},v=function(a,b,c,d){switch(d.data.intent){case m.default.RPC_RESOLVE:var e=(0,g.getPromiseById)(d.data.promiseId),f=e.resolve;f(d.data.result);break;case m.default.RPC_REJECT:var h=(0,g.getPromiseById)(d.data.promiseId),i=h.reject;i(d.data.result);break;case m.default.API_DESCRIPTION:if(d.data.appId===b){k.default.buildAPI(d.data,c);var j=k.default.getAPI();j&&a(j)}break;default:k.default.clear()}},w=function(a){return Object.keys(a).reduce(function(a,b){return a[b]={},a},{})},x=(b.set=function(a,b){if(r[a]=b,o.isWorker()){var c=w(b);o.get().postMessage({appId:a,description:c,intent:m.default.API_DESCRIPTION}),(0,q.default)(o.get(),a,"message",function(a){return u("worker",a)})}},b.sendToWindow=function(a,b){var c=r[a];if(c){var d=w(c);i.setTarget(b),b.postMessage({appId:a,description:d,intent:m.default.API_DESCRIPTION},"*"),(0,q.default)(o.get(),a,"message",function(a){return u("frame",a)})}else console.warn("No api to send, please call rpc.set w/ proper API")});b.sendTo=function(a,b){if(b===parent)return void x(a,b);var c=r[a];c?(i.setTarget(b.contentWindow),b.contentWindow.postMessage({appId:a,description:w(c),intent:m.default.API_DESCRIPTION},b.src),(0,q.default)(o.get(),a,"message",u.bind(this,"frame"))):console.warn("No api to send, please call rpc.set w/ proper API")},b.get=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.appId,c=a.targetId,d=a.target,e=a.initiator,f="worker";return o.isWorker()||(i.addInitiator(b,e),i.setTargetId(c),i.setTarget(d),f="frame"),new Promise(function(a){(0,q.default)(o.get(),b,"message",function(c){return v(a,b,f,c)})})}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c={},d=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},e=function(){return d()+d()+"-"+d()+"-"+d()+"-"+d()+"-"+d()+d()+d()};b.addRemoteCall=function(a,b){var d=e();return c[d]={resolve:a,reject:b},d},b.getPromiseById=function(a){return c[a]}},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}Object.defineProperty(b,"__esModule",{value:!0}),b.getTargetFromName=b.addInitiator=b.setTargetId=b.setTarget=b.getTarget=void 0;var e=c(4),f=d(e),g=void 0,h=void 0,i=new Map,j=function(a){var b=n(a);return b?f.getContentWindow(b):"parent"===h?parent:g},k=function(a,b){var c=f.getDocument().getElementsByName(b)[0];if(c)return c.contentWindow},l=function(a){g=a},m=function(a,b){i.set(a,b)},n=function(a){return i.get(a)},o=function(a){h=a};b.getTarget=j,b.setTarget=l,b.setTargetId=o,b.addInitiator=m,b.getTargetFromName=k},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=function(){return self},d=function(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope},e=function(a){return document.getElementById(a)},f=function(a){return e(a).contentWindow},g=function(){return document};b.get=c,b.isWorker=d,b.getContentWindow=f,b.getDocument=g,b.getChildFrameById=e},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(2),j=c(3),k=e(j),l=c(4),m=e(l),n=c(6),o=d(n),p=c(7),q=d(p),r=function(){function a(){g(this,a)}return h(a,null,[{key:"buildAPI",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.description,d=b.appId,e=arguments[1];if(!c)return void a.clear();var g=void 0;g="frame"===e?function(a){return k.getTarget(d).postMessage((0,q.default)({targetName:window.name},a),"*")}:function(a){return m.get().postMessage(a)};var h=function(a){return function(){for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];return new Promise(function(b,e){var f=(0,i.addRemoteCall)(b,e);g({appId:d,call:a,args:c,promiseId:f,intent:o.default.INVOKE})})}};a._api=Object.keys(c).reduce(function(a,b){return(0,q.default)(a,f({},b,h(b)))},{})}},{key:"clear",value:function(){a._api=void 0}},{key:"getAPI",value:function(){return a._api}}]),a}();b.default=r},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default={INVOKE:"invoke",RPC_RESOLVE:"rpc-resolve",RPC_REJECT:"rpc-reject",API_DESCRIPTION:"api-desc",INVOKE_FUNCTION:"invoke-func",RESOLVE:"resolve",REJECT:"reject",REQUEST_API:"request-api"}},function(a,b,c){var d=c(8),e=c(26),f=c(27),g=c(37),h=c(40),i=c(41),j=Object.prototype,k=j.hasOwnProperty,l=f(function(a,b){if(h(b)||g(b))return void e(b,i(b),a);for(var c in b)k.call(b,c)&&d(a,c,b[c])});a.exports=l},function(a,b,c){function d(a,b,c){var d=a[b];h.call(a,b)&&f(d,c)&&(void 0!==c||b in a)||e(a,b,c)}var e=c(9),f=c(25),g=Object.prototype,h=g.hasOwnProperty;a.exports=d},function(a,b,c){function d(a,b,c){"__proto__"==b&&e?e(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}var e=c(10);a.exports=d},function(a,b,c){var d=c(11),e=function(){try{var a=d(Object,"defineProperty");return a({},"",{}),a}catch(a){}}();a.exports=e},function(a,b,c){function d(a,b){var c=f(a,b);return e(c)?c:void 0}var e=c(12),f=c(24);a.exports=d},function(a,b,c){function d(a){if(!g(a)||f(a))return!1;var b=e(a)?o:j;return b.test(h(a))}var e=c(13),f=c(21),g=c(20),h=c(23),i=/[\\^$.*+?()[\]{}|]/g,j=/^\[object .+?Constructor\]$/,k=Function.prototype,l=Object.prototype,m=k.toString,n=l.hasOwnProperty,o=RegExp("^"+m.call(n).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=d},function(a,b,c){function d(a){if(!f(a))return!1;var b=e(a);return b==h||b==i||b==g||b==j}var e=c(14),f=c(20),g="[object AsyncFunction]",h="[object Function]",i="[object GeneratorFunction]",j="[object Proxy]";a.exports=d},function(a,b,c){function d(a){return null==a?void 0===a?i:h:j&&j in Object(a)?f(a):g(a)}var e=c(15),f=c(18),g=c(19),h="[object Null]",i="[object Undefined]",j=e?e.toStringTag:void 0;a.exports=d},function(a,b,c){var d=c(16),e=d.Symbol;a.exports=e},function(a,b,c){var d=c(17),e="object"==typeof self&&self&&self.Object===Object&&self,f=d||e||Function("return this")();a.exports=f},function(a,b){(function(b){var c="object"==typeof b&&b&&b.Object===Object&&b;a.exports=c}).call(b,function(){return this}())},function(a,b,c){function d(a){var b=g.call(a,i),c=a[i];try{a[i]=void 0;var d=!0}catch(a){}var e=h.call(a);return d&&(b?a[i]=c:delete a[i]),e}var e=c(15),f=Object.prototype,g=f.hasOwnProperty,h=f.toString,i=e?e.toStringTag:void 0;a.exports=d},function(a,b){function c(a){return e.call(a)}var d=Object.prototype,e=d.toString;a.exports=c},function(a,b){function c(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}a.exports=c},function(a,b,c){function d(a){return!!f&&f in a}var e=c(22),f=function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();a.exports=d},function(a,b,c){var d=c(16),e=d["__core-js_shared__"];a.exports=e},function(a,b){function c(a){if(null!=a){try{return e.call(a)}catch(a){}try{return a+""}catch(a){}}return""}var d=Function.prototype,e=d.toString;a.exports=c},function(a,b){function c(a,b){return null==a?void 0:a[b]}a.exports=c},function(a,b){function c(a,b){return a===b||a!==a&&b!==b}a.exports=c},function(a,b,c){function d(a,b,c,d){var g=!c;c||(c={});for(var h=-1,i=b.length;++h<i;){var j=b[h],k=d?d(c[j],a[j],j,c,a):void 0;void 0===k&&(k=a[j]),g?f(c,j,k):e(c,j,k)}return c}var e=c(8),f=c(9);a.exports=d},function(a,b,c){function d(a){return e(function(b,c){var d=-1,e=c.length,g=e>1?c[e-1]:void 0,h=e>2?c[2]:void 0;for(g=a.length>3&&"function"==typeof g?(e--,g):void 0,h&&f(c[0],c[1],h)&&(g=e<3?void 0:g,e=1),b=Object(b);++d<e;){var i=c[d];i&&a(b,i,d,g)}return b})}var e=c(28),f=c(36);a.exports=d},function(a,b,c){function d(a,b){return g(f(a,b,e),a+"")}var e=c(29),f=c(30),g=c(32);a.exports=d},function(a,b){function c(a){return a}a.exports=c},function(a,b,c){function d(a,b,c){return b=f(void 0===b?a.length-1:b,0),function(){for(var d=arguments,g=-1,h=f(d.length-b,0),i=Array(h);++g<h;)i[g]=d[b+g];g=-1;for(var j=Array(b+1);++g<b;)j[g]=d[g];return j[b]=c(i),e(a,this,j)}}var e=c(31),f=Math.max;a.exports=d},function(a,b){function c(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}a.exports=c},function(a,b,c){var d=c(33),e=c(35),f=e(d);a.exports=f},function(a,b,c){var d=c(34),e=c(10),f=c(29),g=e?function(a,b){return e(a,"toString",{configurable:!0,enumerable:!1,value:d(b),writable:!0})}:f;a.exports=g},function(a,b){function c(a){return function(){return a}}a.exports=c},function(a,b){function c(a){var b=0,c=0;return function(){var g=f(),h=e-(g-c);if(c=g,h>0){if(++b>=d)return arguments[0]}else b=0;return a.apply(void 0,arguments)}}var d=800,e=16,f=Date.now;a.exports=c},function(a,b,c){function d(a,b,c){if(!h(c))return!1;var d=typeof b;return!!("number"==d?f(c)&&g(b,c.length):"string"==d&&b in c)&&e(c[b],a)}var e=c(25),f=c(37),g=c(39),h=c(20);a.exports=d},function(a,b,c){function d(a){return null!=a&&f(a.length)&&!e(a)}var e=c(13),f=c(38);a.exports=d},function(a,b){function c(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=d}var d=9007199254740991;a.exports=c},function(a,b){function c(a,b){return b=null==b?d:b,!!b&&("number"==typeof a||e.test(a))&&a>-1&&a%1==0&&a<b}var d=9007199254740991,e=/^(?:0|[1-9]\d*)$/;a.exports=c},function(a,b){function c(a){var b=a&&a.constructor,c="function"==typeof b&&b.prototype||d;return a===c}var d=Object.prototype;a.exports=c},function(a,b,c){function d(a){return g(a)?e(a):f(a)}var e=c(42),f=c(55),g=c(37);a.exports=d},function(a,b,c){function d(a,b){var c=g(a),d=!c&&f(a),k=!c&&!d&&h(a),m=!c&&!d&&!k&&j(a),n=c||d||k||m,o=n?e(a.length,String):[],p=o.length;for(var q in a)!b&&!l.call(a,q)||n&&("length"==q||k&&("offset"==q||"parent"==q)||m&&("buffer"==q||"byteLength"==q||"byteOffset"==q)||i(q,p))||o.push(q);return o}var e=c(43),f=c(44),g=c(47),h=c(48),i=c(39),j=c(51),k=Object.prototype,l=k.hasOwnProperty;a.exports=d},function(a,b){function c(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}a.exports=c},function(a,b,c){var d=c(45),e=c(46),f=Object.prototype,g=f.hasOwnProperty,h=f.propertyIsEnumerable,i=d(function(){return arguments}())?d:function(a){return e(a)&&g.call(a,"callee")&&!h.call(a,"callee")};a.exports=i},function(a,b,c){function d(a){return f(a)&&e(a)==g}var e=c(14),f=c(46),g="[object Arguments]";a.exports=d},function(a,b){function c(a){return null!=a&&"object"==typeof a}a.exports=c},function(a,b){var c=Array.isArray;a.exports=c},function(a,b,c){(function(a){var d=c(16),e=c(50),f="object"==typeof b&&b&&!b.nodeType&&b,g=f&&"object"==typeof a&&a&&!a.nodeType&&a,h=g&&g.exports===f,i=h?d.Buffer:void 0,j=i?i.isBuffer:void 0,k=j||e;a.exports=k}).call(b,c(49)(a))},function(a,b){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1),a}},function(a,b){function c(){return!1}a.exports=c},function(a,b,c){var d=c(52),e=c(53),f=c(54),g=f&&f.isTypedArray,h=g?e(g):d;a.exports=h},function(a,b,c){function d(a){return g(a)&&f(a.length)&&!!F[e(a)]}var e=c(14),f=c(38),g=c(46),h="[object Arguments]",i="[object Array]",j="[object Boolean]",k="[object Date]",l="[object Error]",m="[object Function]",n="[object Map]",o="[object Number]",p="[object Object]",q="[object RegExp]",r="[object Set]",s="[object String]",t="[object WeakMap]",u="[object ArrayBuffer]",v="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",y="[object Int8Array]",z="[object Int16Array]",A="[object Int32Array]",B="[object Uint8Array]",C="[object Uint8ClampedArray]",D="[object Uint16Array]",E="[object Uint32Array]",F={};F[w]=F[x]=F[y]=F[z]=F[A]=F[B]=F[C]=F[D]=F[E]=!0,F[h]=F[i]=F[u]=F[j]=F[v]=F[k]=F[l]=F[m]=F[n]=F[o]=F[p]=F[q]=F[r]=F[s]=F[t]=!1,a.exports=d},function(a,b){function c(a){return function(b){return a(b)}}a.exports=c},function(a,b,c){(function(a){var d=c(17),e="object"==typeof b&&b&&!b.nodeType&&b,f=e&&"object"==typeof a&&a&&!a.nodeType&&a,g=f&&f.exports===e,h=g&&d.process,i=function(){try{return h&&h.binding&&h.binding("util")}catch(a){}}();a.exports=i}).call(b,c(49)(a))},function(a,b,c){function d(a){if(!e(a))return f(a);var b=[];for(var c in Object(a))h.call(a,c)&&"constructor"!=c&&b.push(c);return b}var e=c(40),f=c(56),g=Object.prototype,h=g.hasOwnProperty;a.exports=d},function(a,b,c){var d=c(57),e=d(Object.keys,Object);a.exports=e},function(a,b){function c(a,b){return function(c){return a(b(c))}}a.exports=c},function(a,b){"use strict";function c(a,b,c,f){d(b),a.addEventListener(c,f),e.push({element:a,scope:b,event:c,handler:f})}function d(a){e.map(function(b){b.scope===a&&b.element.removeEventListener(b.event,b.handler)}),e=[]}Object.defineProperty(b,"__esModule",{value:!0}),b.default=c;var e=[]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}Object.defineProperty(b,"__esModule",{value:!0}),b.request=b.set=void 0;var f=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=c(60),h=e(g),i=c(4),j=c(6),k=d(j),l=c(96),m=c(97),n=function(a){var b=a.target,c=a.initiator;switch(!0){case(0,i.isWorker)():return{target:self,targetOrigin:"*"};case b===parent:return{target:parent,targetOrigin:"*"};case Boolean(b):return b.contentWindow?{target:b.contentWindow,targetOrigin:b.src}:{target:b,targetOrigin:"*"};case Boolean(c):var d=(0,i.getChildFrameById)(c);return{target:d.contentWindow,targetOrigin:d.src};default:throw new Error("Invalid target")}},o=function(a,b){return function(c){return a.postMessage({intent:b,result:c})}},p=function(a){var b=a.data,c=b.appId,d=b.intent,e=b.call,g=b.args,i=f(a.ports,1),j=i[0];switch(d){case k.default.REQUEST_API:var m=h.getAppById(c),n=m?(0,l.getDescription)(m):null;return void j.postMessage(n);case k.default.INVOKE_FUNCTION:var p=h.getAppData(c);p.onApiCall&&p.onApiCall({appId:c,call:e,args:g});var q=p.app[e];return(0,l.invokeApiFunction)(q,g).then(o(j,k.default.RESOLVE),o(j,k.default.REJECT))}};b.set=function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=c.onApiCall;h.hasApp(a)||(h.registerApp(a,b,d),self.addEventListener("message",p))},b.request=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=n(b);return(0,m.send)({intent:k.default.REQUEST_API,appId:a},c).then(function(b){return b?(0,l.buildApiFromDescription)(a,b,c):Promise.reject(new Error("App with ID "+a+" not found"))})}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0}),b.hasApp=b.getAppData=b.getAppById=b.registerApp=void 0;var e=c(61),f=d(e),g={};b.registerApp=function(a,b,c){g[a]={app:b,onApiCall:c}},b.getAppById=function(a){return(0,f.default)(g,[a,"app"])},b.getAppData=function(a){return g[a]},b.hasApp=function(a){return Boolean(g[a])}},function(a,b,c){function d(a,b,c){var d=null==a?void 0:e(a,b);return void 0===d?c:d}var e=c(62);a.exports=d},function(a,b,c){function d(a,b){b=e(b,a);for(var c=0,d=b.length;null!=a&&c<d;)a=a[f(b[c++])];return c&&c==d?a:void 0}var e=c(63),f=c(95);a.exports=d},function(a,b,c){function d(a,b){return e(a)?a:f(a,b)?[a]:g(h(a))}var e=c(47),f=c(64),g=c(66),h=c(92);a.exports=d},function(a,b,c){function d(a,b){if(e(a))return!1;var c=typeof a;return!("number"!=c&&"symbol"!=c&&"boolean"!=c&&null!=a&&!f(a))||h.test(a)||!g.test(a)||null!=b&&a in Object(b)}var e=c(47),f=c(65),g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/;a.exports=d},function(a,b,c){function d(a){return"symbol"==typeof a||f(a)&&e(a)==g}var e=c(14),f=c(46),g="[object Symbol]";a.exports=d},function(a,b,c){var d=c(67),e=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,h=d(function(a){var b=[];return e.test(a)&&b.push(""),a.replace(f,function(a,c,d,e){b.push(d?e.replace(g,"$1"):c||a)}),b});a.exports=h},function(a,b,c){function d(a){var b=e(a,function(a){return c.size===f&&c.clear(),a}),c=b.cache;return b}var e=c(68),f=500;a.exports=d},function(a,b,c){function d(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new TypeError(f);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g)||f,g};return c.cache=new(d.Cache||e),c}var e=c(69),f="Expected a function";d.Cache=e,a.exports=d},function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=c(70),f=c(86),g=c(89),h=c(90),i=c(91);d.prototype.clear=e,d.prototype.delete=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,a.exports=d},function(a,b,c){function d(){this.size=0,this.__data__={hash:new e,map:new(g||f),string:new e}}var e=c(71),f=c(78),g=c(85);a.exports=d},function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=c(72),f=c(74),g=c(75),h=c(76),i=c(77);d.prototype.clear=e,d.prototype.delete=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,a.exports=d},function(a,b,c){function d(){this.__data__=e?e(null):{},this.size=0}var e=c(73);a.exports=d},function(a,b,c){var d=c(11),e=d(Object,"create");a.exports=e},function(a,b){function c(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b}a.exports=c},function(a,b,c){function d(a){var b=this.__data__;if(e){var c=b[a];return c===f?void 0:c}return h.call(b,a)?b[a]:void 0}var e=c(73),f="__lodash_hash_undefined__",g=Object.prototype,h=g.hasOwnProperty;a.exports=d},function(a,b,c){function d(a){var b=this.__data__;return e?void 0!==b[a]:g.call(b,a)}var e=c(73),f=Object.prototype,g=f.hasOwnProperty;a.exports=d},function(a,b,c){function d(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=e&&void 0===b?f:b,this}var e=c(73),f="__lodash_hash_undefined__";a.exports=d},function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=c(79),f=c(80),g=c(82),h=c(83),i=c(84);d.prototype.clear=e,d.prototype.delete=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,a.exports=d},function(a,b){function c(){this.__data__=[],this.size=0}a.exports=c},function(a,b,c){function d(a){var b=this.__data__,c=e(b,a);if(c<0)return!1;var d=b.length-1;return c==d?b.pop():g.call(b,c,1),--this.size,!0}var e=c(81),f=Array.prototype,g=f.splice;a.exports=d},function(a,b,c){function d(a,b){for(var c=a.length;c--;)if(e(a[c][0],b))return c;return-1}var e=c(25);a.exports=d},function(a,b,c){function d(a){var b=this.__data__,c=e(b,a);return c<0?void 0:b[c][1]}var e=c(81);a.exports=d},function(a,b,c){function d(a){return e(this.__data__,a)>-1}var e=c(81);a.exports=d},function(a,b,c){function d(a,b){var c=this.__data__,d=e(c,a);return d<0?(++this.size,c.push([a,b])):c[d][1]=b,this}var e=c(81);a.exports=d},function(a,b,c){var d=c(11),e=c(16),f=d(e,"Map");a.exports=f},function(a,b,c){function d(a){var b=e(this,a).delete(a);return this.size-=b?1:0,b}var e=c(87);a.exports=d},function(a,b,c){function d(a,b){var c=a.__data__;return e(b)?c["string"==typeof b?"string":"hash"]:c.map}var e=c(88);a.exports=d},function(a,b){function c(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}a.exports=c},function(a,b,c){function d(a){return e(this,a).get(a)}var e=c(87);a.exports=d},function(a,b,c){function d(a){return e(this,a).has(a)}var e=c(87);a.exports=d},function(a,b,c){function d(a,b){var c=e(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this}var e=c(87);a.exports=d},function(a,b,c){function d(a){return null==a?"":e(a)}var e=c(93);a.exports=d},function(a,b,c){function d(a){if("string"==typeof a)return a;if(g(a))return f(a,d)+"";if(h(a))return k?k.call(a):"";var b=a+"";return"0"==b&&1/a==-i?"-0":b}var e=c(15),f=c(94),g=c(47),h=c(65),i=1/0,j=e?e.prototype:void 0,k=j?j.toString:void 0;a.exports=d},function(a,b){function c(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}a.exports=c},function(a,b,c){function d(a){if("string"==typeof a||e(a))return a;var b=a+"";return"0"==b&&1/a==-f?"-0":b}var e=c(65),f=1/0;a.exports=d},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}Object.defineProperty(b,"__esModule",{value:!0}),b.invokeApiFunction=b.getDescription=b.buildApiFromDescription=void 0;var f=c(6),g=d(f),h=c(97),i=c(99),j=d(i),k=!0,l=function(a){var b=a.intent,c=a.result;switch(b){case g.default.RESOLVE:return c;case g.default.REJECT:return Promise.reject(c)}},m=function(a,b,c){return function(){for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return(0,h.send)({appId:a,call:c,args:e,intent:g.default.INVOKE_FUNCTION},b).then(l)}};b.buildApiFromDescription=function(a,b,c){return(0,j.default)(b,function(b,d){return m(a,c,d)})},b.getDescription=function(a){return(0,j.default)(a,function(){return k})},b.invokeApiFunction=function(a,b){try{return Promise.resolve(a.apply(void 0,e(b)))}catch(a){return Promise.reject("string"==typeof a?a:a.message)}}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0}),b.send=void 0;var e=c(98),f=d(e);b.send=function(a,b){var c=b.target,d=b.targetOrigin;return(0,f.default)(a,c,d)}},function(a,b,c){!function(b,c){a.exports=c()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b){"use strict";a.exports=function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*",d="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;return new Promise(function(e,f){d&&(b=self),b&&b.postMessage||f(new Error("Invalid target"));var g=new MessageChannel,h=g.port1,i=g.port2;b===self||b instanceof Worker?b.postMessage(a,[i]):b.postMessage(a,c,[i]),h.onmessage=function(a){var b=a.data;return e(b)}})}}])})},function(a,b,c){function d(a,b){var c={};return b=g(b,3),f(a,function(a,d,f){e(c,d,b(a,d,f))}),c}var e=c(9),f=c(100),g=c(103);a.exports=d},function(a,b,c){function d(a,b){return a&&e(a,b,f)}var e=c(101),f=c(41);a.exports=d},function(a,b,c){var d=c(102),e=d();a.exports=e},function(a,b){function c(a){return function(b,c,d){for(var e=-1,f=Object(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(c(f[i],i,f)===!1)break}return b}}a.exports=c},function(a,b,c){function d(a){return"function"==typeof a?a:null==a?g:"object"==typeof a?h(a)?f(a[0],a[1]):e(a):i(a)}var e=c(104),f=c(139),g=c(29),h=c(47),i=c(143);a.exports=d},function(a,b,c){function d(a){var b=f(a);return 1==b.length&&b[0][2]?g(b[0][0],b[0][1]):function(c){return c===a||e(c,a,b)}}var e=c(105),f=c(136),g=c(138);a.exports=d},function(a,b,c){function d(a,b,c,d){var i=c.length,j=i,k=!d;if(null==a)return!j;for(a=Object(a);i--;){var l=c[i];if(k&&l[2]?l[1]!==a[l[0]]:!(l[0]in a))return!1}for(;++i<j;){l=c[i];var m=l[0],n=a[m],o=l[1];if(k&&l[2]){if(void 0===n&&!(m in a))return!1}else{var p=new e;if(d)var q=d(n,o,m,a,b,p);if(!(void 0===q?f(o,n,g|h,d,p):q))return!1}}return!0}var e=c(106),f=c(112),g=1,h=2;a.exports=d},function(a,b,c){function d(a){var b=this.__data__=new e(a);this.size=b.size}var e=c(78),f=c(107),g=c(108),h=c(109),i=c(110),j=c(111);d.prototype.clear=f,d.prototype.delete=g,d.prototype.get=h,d.prototype.has=i,d.prototype.set=j,a.exports=d},function(a,b,c){function d(){this.__data__=new e,this.size=0}var e=c(78);a.exports=d},function(a,b){function c(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c}a.exports=c},function(a,b){function c(a){return this.__data__.get(a)}a.exports=c},function(a,b){function c(a){return this.__data__.has(a)}a.exports=c},function(a,b,c){function d(a,b){var c=this.__data__;if(c instanceof e){var d=c.__data__;if(!f||d.length<h-1)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new g(d)}return c.set(a,b),this.size=c.size,this}var e=c(78),f=c(85),g=c(69),h=200;a.exports=d},function(a,b,c){function d(a,b,c,g,h){return a===b||(null==a||null==b||!f(a)&&!f(b)?a!==a&&b!==b:e(a,b,c,g,d,h))}var e=c(113),f=c(46);a.exports=d},function(a,b,c){function d(a,b,c,d,q,s){var t=j(a),u=j(b),v=t?o:i(a),w=u?o:i(b);v=v==n?p:v,w=w==n?p:w;var x=v==p,y=w==p,z=v==w;if(z&&k(a)){if(!k(b))return!1;t=!0,x=!1}if(z&&!x)return s||(s=new e),t||l(a)?f(a,b,c,d,q,s):g(a,b,v,c,d,q,s);if(!(c&m)){var A=x&&r.call(a,"__wrapped__"),B=y&&r.call(b,"__wrapped__");if(A||B){var C=A?a.value():a,D=B?b.value():b;return s||(s=new e),q(C,D,c,d,s)}}return!!z&&(s||(s=new e),h(a,b,c,d,q,s))}var e=c(106),f=c(114),g=c(120),h=c(124),i=c(131),j=c(47),k=c(48),l=c(51),m=1,n="[object Arguments]",o="[object Array]",p="[object Object]",q=Object.prototype,r=q.hasOwnProperty;a.exports=d},function(a,b,c){function d(a,b,c,d,j,k){var l=c&h,m=a.length,n=b.length;if(m!=n&&!(l&&n>m))return!1;var o=k.get(a);if(o&&k.get(b))return o==b;var p=-1,q=!0,r=c&i?new e:void 0;for(k.set(a,b),k.set(b,a);++p<m;){var s=a[p],t=b[p];if(d)var u=l?d(t,s,p,b,a,k):d(s,t,p,a,b,k);if(void 0!==u){if(u)continue;q=!1;break}if(r){if(!f(b,function(a,b){if(!g(r,b)&&(s===a||j(s,a,c,d,k)))return r.push(b)})){q=!1;break}}else if(s!==t&&!j(s,t,c,d,k)){q=!1;break}}return k.delete(a),k.delete(b),q}var e=c(115),f=c(118),g=c(119),h=1,i=2;a.exports=d},function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new e;++b<c;)this.add(a[b])}var e=c(69),f=c(116),g=c(117);d.prototype.add=d.prototype.push=f,d.prototype.has=g,a.exports=d},function(a,b){function c(a){return this.__data__.set(a,d),this}var d="__lodash_hash_undefined__";a.exports=c},function(a,b){function c(a){return this.__data__.has(a);
}a.exports=c},function(a,b){function c(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}a.exports=c},function(a,b){function c(a,b){return a.has(b)}a.exports=c},function(a,b,c){function d(a,b,c,d,e,x,z){switch(c){case w:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case v:return!(a.byteLength!=b.byteLength||!x(new f(a),new f(b)));case m:case n:case q:return g(+a,+b);case o:return a.name==b.name&&a.message==b.message;case r:case t:return a==b+"";case p:var A=i;case s:var B=d&k;if(A||(A=j),a.size!=b.size&&!B)return!1;var C=z.get(a);if(C)return C==b;d|=l,z.set(a,b);var D=h(A(a),A(b),d,e,x,z);return z.delete(a),D;case u:if(y)return y.call(a)==y.call(b)}return!1}var e=c(15),f=c(121),g=c(25),h=c(114),i=c(122),j=c(123),k=1,l=2,m="[object Boolean]",n="[object Date]",o="[object Error]",p="[object Map]",q="[object Number]",r="[object RegExp]",s="[object Set]",t="[object String]",u="[object Symbol]",v="[object ArrayBuffer]",w="[object DataView]",x=e?e.prototype:void 0,y=x?x.valueOf:void 0;a.exports=d},function(a,b,c){var d=c(16),e=d.Uint8Array;a.exports=e},function(a,b){function c(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}a.exports=c},function(a,b){function c(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}a.exports=c},function(a,b,c){function d(a,b,c,d,g,i){var j=c&f,k=e(a),l=k.length,m=e(b),n=m.length;if(l!=n&&!j)return!1;for(var o=l;o--;){var p=k[o];if(!(j?p in b:h.call(b,p)))return!1}var q=i.get(a);if(q&&i.get(b))return q==b;var r=!0;i.set(a,b),i.set(b,a);for(var s=j;++o<l;){p=k[o];var t=a[p],u=b[p];if(d)var v=j?d(u,t,p,b,a,i):d(t,u,p,a,b,i);if(!(void 0===v?t===u||g(t,u,c,d,i):v)){r=!1;break}s||(s="constructor"==p)}if(r&&!s){var w=a.constructor,x=b.constructor;w!=x&&"constructor"in a&&"constructor"in b&&!("function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x)&&(r=!1)}return i.delete(a),i.delete(b),r}var e=c(125),f=1,g=Object.prototype,h=g.hasOwnProperty;a.exports=d},function(a,b,c){function d(a){return e(a,g,f)}var e=c(126),f=c(128),g=c(41);a.exports=d},function(a,b,c){function d(a,b,c){var d=b(a);return f(a)?d:e(d,c(a))}var e=c(127),f=c(47);a.exports=d},function(a,b){function c(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}a.exports=c},function(a,b,c){var d=c(129),e=c(130),f=Object.prototype,g=f.propertyIsEnumerable,h=Object.getOwnPropertySymbols,i=h?function(a){return null==a?[]:(a=Object(a),d(h(a),function(b){return g.call(a,b)}))}:e;a.exports=i},function(a,b){function c(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}a.exports=c},function(a,b){function c(){return[]}a.exports=c},function(a,b,c){var d=c(132),e=c(85),f=c(133),g=c(134),h=c(135),i=c(14),j=c(23),k="[object Map]",l="[object Object]",m="[object Promise]",n="[object Set]",o="[object WeakMap]",p="[object DataView]",q=j(d),r=j(e),s=j(f),t=j(g),u=j(h),v=i;(d&&v(new d(new ArrayBuffer(1)))!=p||e&&v(new e)!=k||f&&v(f.resolve())!=m||g&&v(new g)!=n||h&&v(new h)!=o)&&(v=function(a){var b=i(a),c=b==l?a.constructor:void 0,d=c?j(c):"";if(d)switch(d){case q:return p;case r:return k;case s:return m;case t:return n;case u:return o}return b}),a.exports=v},function(a,b,c){var d=c(11),e=c(16),f=d(e,"DataView");a.exports=f},function(a,b,c){var d=c(11),e=c(16),f=d(e,"Promise");a.exports=f},function(a,b,c){var d=c(11),e=c(16),f=d(e,"Set");a.exports=f},function(a,b,c){var d=c(11),e=c(16),f=d(e,"WeakMap");a.exports=f},function(a,b,c){function d(a){for(var b=f(a),c=b.length;c--;){var d=b[c],g=a[d];b[c]=[d,g,e(g)]}return b}var e=c(137),f=c(41);a.exports=d},function(a,b,c){function d(a){return a===a&&!e(a)}var e=c(20);a.exports=d},function(a,b){function c(a,b){return function(c){return null!=c&&c[a]===b&&(void 0!==b||a in Object(c))}}a.exports=c},function(a,b,c){function d(a,b){return h(a)&&i(b)?j(k(a),b):function(c){var d=f(c,a);return void 0===d&&d===b?g(c,a):e(b,d,l|m)}}var e=c(112),f=c(61),g=c(140),h=c(64),i=c(137),j=c(138),k=c(95),l=1,m=2;a.exports=d},function(a,b,c){function d(a,b){return null!=a&&f(a,b,e)}var e=c(141),f=c(142);a.exports=d},function(a,b){function c(a,b){return null!=a&&b in Object(a)}a.exports=c},function(a,b,c){function d(a,b,c){b=e(b,a);for(var d=-1,k=b.length,l=!1;++d<k;){var m=j(b[d]);if(!(l=null!=a&&c(a,m)))break;a=a[m]}return l||++d!=k?l:(k=null==a?0:a.length,!!k&&i(k)&&h(m,k)&&(g(a)||f(a)))}var e=c(63),f=c(44),g=c(47),h=c(39),i=c(38),j=c(95);a.exports=d},function(a,b,c){function d(a){return g(a)?e(h(a)):f(a)}var e=c(144),f=c(145),g=c(64),h=c(95);a.exports=d},function(a,b){function c(a){return function(b){return null==b?void 0:b[a]}}a.exports=c},function(a,b,c){function d(a){return function(b){return e(b,a)}}var e=c(62);a.exports=d},function(a,b,c){(function(b,d){!function(b,c){a.exports=c()}(this,function(){"use strict";function a(a){return"function"==typeof a||"object"==typeof a&&null!==a}function e(a){return"function"==typeof a}function f(a){X=a}function g(a){Y=a}function h(){return function(){return b.nextTick(m)}}function i(){return function(){W(m)}}function j(){var a=0,b=new _(m),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function k(){var a=new MessageChannel;return a.port1.onmessage=m,function(){return a.port2.postMessage(0)}}function l(){var a=setTimeout;return function(){return a(m,1)}}function m(){for(var a=0;a<V;a+=2){var b=ca[a],c=ca[a+1];b(c),ca[a]=void 0,ca[a+1]=void 0}V=0}function n(){try{var a=c(148);return W=a.runOnLoop||a.runOnContext,i()}catch(a){return l()}}function o(a,b){var c=arguments,d=this,e=new this.constructor(q);void 0===e[ea]&&J(e);var f=d._state;return f?!function(){var a=c[f-1];Y(function(){return G(f,e,a,d._result)})}():C(d,e,a,b),e}function p(a){var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(q);return y(c,a),c}function q(){}function r(){return new TypeError("You cannot resolve a promise with itself")}function s(){return new TypeError("A promises callback cannot return that same promise.")}function t(a){try{return a.then}catch(a){return ia.error=a,ia}}function u(a,b,c,d){try{a.call(b,c,d)}catch(a){return a}}function v(a,b,c){Y(function(a){var d=!1,e=u(c,b,function(c){d||(d=!0,b!==c?y(a,c):A(a,c))},function(b){d||(d=!0,B(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,B(a,e))},a)}function w(a,b){b._state===ga?A(a,b._result):b._state===ha?B(a,b._result):C(b,void 0,function(b){return y(a,b)},function(b){return B(a,b)})}function x(a,b,c){b.constructor===a.constructor&&c===o&&b.constructor.resolve===p?w(a,b):c===ia?B(a,ia.error):void 0===c?A(a,b):e(c)?v(a,b,c):A(a,b)}function y(b,c){b===c?B(b,r()):a(c)?x(b,c,t(c)):A(b,c)}function z(a){a._onerror&&a._onerror(a._result),D(a)}function A(a,b){a._state===fa&&(a._result=b,a._state=ga,0!==a._subscribers.length&&Y(D,a))}function B(a,b){a._state===fa&&(a._state=ha,a._result=b,Y(z,a))}function C(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+ga]=c,e[f+ha]=d,0===f&&a._state&&Y(D,a)}function D(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d=void 0,e=void 0,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?G(c,d,e,f):e(f);a._subscribers.length=0}}function E(){this.error=null}function F(a,b){try{return a(b)}catch(a){return ja.error=a,ja}}function G(a,b,c,d){var f=e(c),g=void 0,h=void 0,i=void 0,j=void 0;if(f){if(g=F(c,d),g===ja?(j=!0,h=g.error,g=null):i=!0,b===g)return void B(b,s())}else g=d,i=!0;b._state!==fa||(f&&i?y(b,g):j?B(b,h):a===ga?A(b,g):a===ha&&B(b,g))}function H(a,b){try{b(function(b){y(a,b)},function(b){B(a,b)})}catch(b){B(a,b)}}function I(){return ka++}function J(a){a[ea]=ka++,a._state=void 0,a._result=void 0,a._subscribers=[]}function K(a,b){this._instanceConstructor=a,this.promise=new a(q),this.promise[ea]||J(this.promise),U(b)?(this._input=b,this.length=b.length,this._remaining=b.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&A(this.promise,this._result))):B(this.promise,L())}function L(){return new Error("Array Methods must be provided an Array")}function M(a){return new K(this,a).promise}function N(a){var b=this;return new b(U(a)?function(c,d){for(var e=a.length,f=0;f<e;f++)b.resolve(a[f]).then(c,d)}:function(a,b){return b(new TypeError("You must pass an array to race."))})}function O(a){var b=this,c=new b(q);return B(c,a),c}function P(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Q(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function R(a){this[ea]=I(),this._result=this._state=void 0,this._subscribers=[],q!==a&&("function"!=typeof a&&P(),this instanceof R?H(this,a):Q())}function S(){var a=void 0;if("undefined"!=typeof d)a=d;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(a){throw new Error("polyfill failed because global object is unavailable in this environment")}var b=a.Promise;if(b){var c=null;try{c=Object.prototype.toString.call(b.resolve())}catch(a){}if("[object Promise]"===c&&!b.cast)return}a.Promise=R}var T=void 0;T=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var U=T,V=0,W=void 0,X=void 0,Y=function(a,b){ca[V]=a,ca[V+1]=b,V+=2,2===V&&(X?X(m):da())},Z="undefined"!=typeof window?window:void 0,$=Z||{},_=$.MutationObserver||$.WebKitMutationObserver,aa="undefined"==typeof self&&"undefined"!=typeof b&&"[object process]"==={}.toString.call(b),ba="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ca=new Array(1e3),da=void 0;da=aa?h():_?j():ba?k():void 0===Z?n():l();var ea=Math.random().toString(36).substring(16),fa=void 0,ga=1,ha=2,ia=new E,ja=new E,ka=0;return K.prototype._enumerate=function(){for(var a=this.length,b=this._input,c=0;this._state===fa&&c<a;c++)this._eachEntry(b[c],c)},K.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===p){var e=t(a);if(e===o&&a._state!==fa)this._settledAt(a._state,b,a._result);else if("function"!=typeof e)this._remaining--,this._result[b]=a;else if(c===R){var f=new c(q);x(f,a,e),this._willSettleAt(f,b)}else this._willSettleAt(new c(function(b){return b(a)}),b)}else this._willSettleAt(d(a),b)},K.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===fa&&(this._remaining--,a===ha?B(d,c):this._result[b]=c),0===this._remaining&&A(d,this._result)},K.prototype._willSettleAt=function(a,b){var c=this;C(a,void 0,function(a){return c._settledAt(ga,b,a)},function(a){return c._settledAt(ha,b,a)})},R.all=M,R.race=N,R.resolve=p,R.reject=O,R._setScheduler=f,R._setAsap=g,R._asap=Y,R.prototype={constructor:R,then:o,catch:function(a){return this.then(null,a)}},S(),R.polyfill=S,R.Promise=R,R})}).call(b,c(147),function(){return this}())},function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function e(a){if(k===setTimeout)return setTimeout(a,0);if((k===c||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{return k(a,0)}catch(b){try{return k.call(null,a,0)}catch(b){return k.call(this,a,0)}}}function f(a){if(l===clearTimeout)return clearTimeout(a);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(a);try{return l(a)}catch(b){try{return l.call(null,a)}catch(b){return l.call(this,a)}}}function g(){p&&n&&(p=!1,n.length?o=n.concat(o):q=-1,o.length&&h())}function h(){if(!p){var a=e(g);p=!0;for(var b=o.length;b;){for(n=o,o=[];++q<b;)n&&n[q].run();q=-1,b=o.length}n=null,p=!1,f(a)}}function i(a,b){this.fun=a,this.array=b}function j(){}var k,l,m=a.exports={};!function(){try{k="function"==typeof setTimeout?setTimeout:c}catch(a){k=c}try{l="function"==typeof clearTimeout?clearTimeout:d}catch(a){l=d}}();var n,o=[],p=!1,q=-1;m.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];o.push(new i(a,b)),1!==o.length||p||e(h)},i.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=j,m.addListener=j,m.once=j,m.off=j,m.removeListener=j,m.removeAllListeners=j,m.emit=j,m.binding=function(a){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(a){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(a,b){}])})},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=new Map,d=(b.init=function(a){a.addEventListener("message",function(a){var b=a.data,c=void 0===b?{}:b,e=a.ports,f=void 0===e?[]:e;"PLATFORM_TPA_PUBLIC_API_ON_EVENT"===c.intent&&d(c.compId,f[0])})},b.sendMessage=function(a,b){var d=c.get(a);d&&d.postMessage(b)},b.setPort=function(a,b){return c.set(a,b)})}])}),angular.module("wixCodeModule",["wixAngular"]).config(["$compileProvider","experimentManagerProvider",function(a,b){b.isExperimentEnabled("specs.WixCodeHackathon")&&a.debugInfoEnabled(!0)}]).run(["experimentManager","productDataService","sdkAdapter",function(a,b,c){a.isExperimentEnabled("specs.WixCodeHackathon")&&(santaPlatformSuperApps.exportAPI({compId:Wix.Utils.getCompId(),api:{getCurrentProduct:function(){return b.getData().product},addToCart:function(){var a=angular.element("[data-hook=add-to-cart]");a.length&&a.get(0).click()},navigateToProduct:function(a){var b=a[0];c.navigateToSection("product_page",b)}}},window),setTimeout(function(){santaPlatformSuperApps.emit(Wix.Utils.getCompId(),{type:"ProductLoaded",payload:{product:b.getData().product}})},5e3))}]),angular.module("productPageAppWrapper").requires.push("wixCodeModule");
//# sourceMappingURL=wix-code-hackathon.js.map